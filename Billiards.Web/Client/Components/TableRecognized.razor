@using Billiards.Web.Shared

<svg style="position: absolute; top: 0px; left: 0px; width: @ScreenWidthPx; height: @ScreenHeightPx; z-index: 2">
    @{
        if (Balls != null)
        {
            foreach (var ball in Balls)
            {
                if (ball.ImageAbsolutePoint != null)
                {
                    <circle cx="@ball.ImageAbsolutePoint.X" cy="@ball.ImageAbsolutePoint.Y" r="@FinderRadius"
                        stroke="@ball.Color" stroke-width="@FinderStroke" fill-opacity="0" stroke-opacity="0.5" />
                }
            }
        }
    }
    <polygon points="@TableCorners" stroke="green"
             stroke-width="@FinderStroke" stroke-opacity="0.8" fill-opacity="0" />
    Sorry, your browser does not support inline SVG.
</svg>


@code {

    [Parameter]
    public string ScreenWidthPx { get; set; } = "480px";
    [Parameter]
    public string ScreenHeightPx { get; set; } = "270px";

    [Parameter]
    public int FinderStroke { get; set; } = 8;
    [Parameter]
    public int FinderRadius { get; set; } = 16;

    [Parameter]
    public BallCollection? Balls { get; set; }

    [Parameter]
    public string? TableCorners { get; set; }
}
