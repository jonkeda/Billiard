@using Billiards.Web.Shared
<div id="canvas" style="position: relative; width: @screenWidthPx; height: @screenHeightPx">
    <svg id="svgContainer" viewBox="0 0 2000 1000" preserveAspectRatio="xMidYMid meet"
         style="position: absolute; top: 1px; width: @screenWidthPx; height: @screenHeightPx; z-index: 2; background-color:green">
        @{
            if (problems != null)
            {
                foreach (Problem problem in problems)
                {
                    foreach (Solution solution in problem.Solutions)
                    {
                        <polyline points="@solution.PointsAsString()"
                                  style="fill:none;stroke:@problem.Color;stroke-width:3" />
                    }
                }
            }
            if (balls != null)
            {
                foreach (var ball in balls)
                {
                    if (ball.TableAbsolutePoint != null)
                    {
                        <circle cx="@ball.TableAbsolutePoint.X" cy="@ball.TableAbsolutePoint.Y"
                                r="@ballRadius" fill="@ball.Color" />
                    }
                }
            }
        }

        Sorry, your browser does not support inline SVG.
    </svg>

@*    <button style="position: absolute; bottom: 10px; width: @screenWidthPx; height: 30px; z-index: 3; border: none; background: none; border-radius: 50%;"
            @onclick="OpenCamera">
        <span class="oi oi-camera-slr" style="background: lightgray; color: green;font-size: 40px; text-align: center" aria-hidden="true"></span>
    </button>*@
</div>

@code {

    BallCollection? balls;
    ProblemCollection? problems;

    int ballRadius;

    string screenWidthPx = "480px";
    string screenHeightPx = "270px";

}
